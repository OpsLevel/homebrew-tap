# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Cli < Formula
  desc "Opslevel Command Line Utility"
  homepage "https://www.opslevel.com/"
  version "2022.04.22"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/OpsLevel/cli/releases/download/v2022.04.22/opslevel-darwin-amd64.tar.gz"
      sha256 "8648aa02a3e6717fd9f022b133a0e6f71c02ef36d0c4e4b53dc91f1aac640090"

      def install
        bin.install "opslevel"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/OpsLevel/cli/releases/download/v2022.04.22/opslevel-darwin-arm64.tar.gz"
      sha256 "fce4c21ee1bd0b45d5e6959835d19cc7914eeec2a8bfa71bbdc685197b92dd47"

      def install
        bin.install "opslevel"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/OpsLevel/cli/releases/download/v2022.04.22/opslevel-linux-amd64.tar.gz"
      sha256 "c6eeba803b3951b0665f345e6a4de98192c31fc7b43502cbb7c7b13d99a51e2c"

      def install
        bin.install "opslevel"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/OpsLevel/cli/releases/download/v2022.04.22/opslevel-linux-arm.tar.gz"
      sha256 "4135d74b07f4dc72939506762edda137c200df03aad80b21b23d04be84a1cd55"

      def install
        bin.install "opslevel"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/OpsLevel/cli/releases/download/v2022.04.22/opslevel-linux-arm64.tar.gz"
      sha256 "64a4958fbb2317144db9a223b9bd60899c96b36b0b2f960eedc806da5038ba11"

      def install
        bin.install "opslevel"
      end
    end
  end

  depends_on "jq"

  test do
    system "#{bin}/opslevel version"
  end
end
