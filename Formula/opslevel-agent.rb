# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class OpslevelAgent < Formula
  desc "Main repository for the OpsLevel agent"
  homepage "https://www.opslevel.com/"
  version "2025.7.22"
  license "MIT"

  depends_on "go"

  on_macos do
    url "https://github.com/opslevel/opslevel-agent/archive/refs/tags/v2025.7.22.tar.gz"
    sha256 "8132faad9e19697e6e253256b177b7ec9332a4c3c44493cb02e506489d1a7f6f"

    def install
      bin.install "opslevel-agent"
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/opslevel/opslevel-agent/archive/refs/tags/v2025.7.22.tar.gz"
      sha256 "5ec0399a0d8a896ef619a101e2d919f37d26f650e4fb91d7ad3e48873c2482f0"
      def install
        bin.install "opslevel-agent"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/opslevel/opslevel-agent/archive/refs/tags/v2025.7.22.tar.gz"
      sha256 "853b31f86d8d98fdc9f8493e9d23cfaf7e4872f8a9554446c7ab099cb57d4872"
      def install
        bin.install "opslevel-agent"
      end
    end
  end

  test do
    system "#{bin}/opslevel-agent version"
  end
end
